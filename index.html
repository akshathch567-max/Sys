# index. html
Smart attendance System
{record.updatedAt ? record.updatedAt.toDate ? record.updatedAt.toDate().toString() : record.updatedAt : 'unknown'}</div>
      <div className="mt-2">
        <strong>Present ({record.present.length}):</strong>
        <ul className="list-disc ml-6">
          {record.present.map(p => <li key={p}>{p}</li>)}
        </ul>
      </div>
    </div>
  );
}

function AttendanceArchive({ attendanceMap, classFilter }) {
  // Convert map -> array and filter
  const arr = Object.values(attendanceMap).filter(r => r.className === classFilter).sort((a, b) => (b.createdAt?.toMillis?.() || 0) - (a.createdAt?.toMillis?.() || 0));
  if (arr.length === 0) return <p className="text-sm text-gray-500">No records yet.</p>;
  return (
    <div className="space-y-3">
      {arr.map(r => (
        <div key={r.key} className="p-3 border rounded bg-white">
          <div className="flex justify-between items-center">
            <div>
              <div className="font-medium">{r.className} — {r.session} — {r.date}</div>
              <div className="text-xs text-gray-500">Present: {r.present.length} — session length: {r.sessionLengthMin} min</div>
            </div>
          </div>
          <div className="mt-2 text-sm">
            <strong>Present:</strong> {r.present.join(', ')}
          </div>
        </div>
      ))}
    </div>
  );
}
